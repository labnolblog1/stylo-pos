<!DOCTYPE html>
<html>
<head>
<title>Full Day Report</title>
<meta charset="UTF-8">

<style>
body{
    font-family:Arial;
    background:#f2f2f2;
    margin:0;
}

.header{
    background:black;
    color:white;
    text-align:center;
    padding:15px;
    font-size:22px;
}

.nav{
    display:flex;
    justify-content:space-between;
    padding:10px;
}

.nav button{
    padding:8px 16px;
    font-size:14px;
    cursor:pointer;
}

.container{
    max-width:900px;
    margin:20px auto;
    background:white;
    padding:20px;
    border-radius:10px;
}

.sale{
    border-bottom:1px dashed #ccc;
    padding:8px 0;
}

.row{
    display:flex;
    justify-content:space-between;
    margin:4px 0;
}

.delete-btn{
    background:red;
    color:white;
    border:none;
    padding:4px 8px;
    border-radius:6px;
    cursor:pointer;
}
</style>
</head>
<body>

<div class="header">Full Day Report</div>

<div class="nav">
    <button onclick="window.history.back()">‚¨Ö Back</button>
    <button onclick="window.location.href='index.html'">üè† Home</button>
</div>

<div class="container">
    <input type="date" id="datePicker">
    <div id="report"></div>
</div>

<script>

function loadReport(){

    const sales = JSON.parse(localStorage.getItem("sales")) || [];
    const selectedDate = document.getElementById("datePicker").value;
    const report = document.getElementById("report");

    report.innerHTML = "";

    const filtered = sales.filter(s => s.date === selectedDate);

    if(filtered.length === 0){
        report.innerHTML = "<p>No sales found.</p>";
        return;
    }

    filtered.forEach(s => {

        report.innerHTML += `
            <div class="sale">
                <div class="row">
                    <b>${s.salesman}</b>
                    <button class="delete-btn" onclick="deleteSale(${s.id})">Delete</button>
                </div>
                <div class="row">
                    <span>Amount:</span>
                    <span>‚Çπ${s.amount}</span>
                </div>
                <div class="row">
                    <span>Commission:</span>
                    <span>‚Çπ${s.commission}</span>
                </div>
            </div>
        `;
    });
}

function deleteSale(id){

    if(!confirm("Delete this sale?")) return;

    let sales = JSON.parse(localStorage.getItem("sales")) || [];
    sales = sales.filter(s => s.id !== id);
    localStorage.setItem("sales", JSON.stringify(sales));

    alert("Sale deleted");
    loadReport();
}

document.getElementById("datePicker").value = new Date().toISOString().slice(0,10);
document.getElementById("datePicker").onchange = loadReport;

loadReport();

</script>

</body>
</html>
